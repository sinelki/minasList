{
  "name": "stormpath-config",
  "version": "0.0.16",
  "description": "Stormpath configuration loader.",
  "main": "index.js",
  "scripts": {
    "test": "istanbul cover node_modules/mocha/bin/_mocha -- --check-leaks test --recursive",
    "test-travis": "istanbul cover node_modules/mocha/bin/_mocha --report lcovonly -- --reporter spec --recursive && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/stormpath/stormpath-node-config.git"
  },
  "keywords": [
    "express",
    "stormpath",
    "authentication",
    "security",
    "configuration"
  ],
  "author": {
    "name": "Stormpath, Inc."
  },
  "license": "Apache-2.0",
  "bugs": {
    "url": "https://github.com/stormpath/stormpath-node-config/issues"
  },
  "homepage": "https://github.com/stormpath/stormpath-node-config",
  "devDependencies": {
    "chai": "^3.4.0",
    "coveralls": "^2.11.4",
    "istanbul": "^0.4.0",
    "mocha": "^2.3.3",
    "mocha-lcov-reporter": "^1.0.0",
    "sinon": "^1.17.2",
    "stormpath": "^0.15.0",
    "temp": "^0.8.3"
  },
  "dependencies": {
    "async": "^1.4.2",
    "cloneextend": "0.0.3",
    "expand-home-dir": "0.0.2",
    "flat": "^1.6.0",
    "js-yaml": "^3.4.2",
    "lodash": "^3.10.1",
    "properties-parser": "^0.3.0"
  },
  "readme": "# stormpath-node-config\n\n*Stormpath configuration loader.*\n\n[![NPM Version](https://img.shields.io/npm/v/stormpath-config.svg?style=flat)](https://npmjs.org/package/stormpath-config)\n[![NPM Downloads](http://img.shields.io/npm/dm/stormpath-config.svg?style=flat)](https://npmjs.org/package/stormpath-config)\n[![Build Status](https://img.shields.io/travis/stormpath/stormpath-node-config.svg?style=flat)](https://travis-ci.org/stormpath/stormpath-node-config)\n[![Coverage Status](https://coveralls.io/repos/stormpath/stormpath-node-config/badge.svg?branch=master&service=github)](https://coveralls.io/github/stormpath/stormpath-node-config?branch=master)\n\nThis library is responsible for loading the Stormpath configuration.  It is an internal module used by stormpath-node-sdk, and express-stormpath, and is\nnot meant for general consumption.\n\n\n## Installation\n\nTo install this library, just run:\n\n```\n$ npm install stormpath-config --save\n```\n\n\n## Usage\n\nFirst, start by including the library:\n\n```\nvar stormpathConfig = require('stormpath-config');\n```\n\nOnce the library is loaded, you'll need to initialize a new `Loader` object using the library like so:\n\n```\nvar configLoader = new stormpathConfig.Loader([/* strategies */]);\n```\n\nNotice how the first argument is commented out. This needs to be an array of one or many strategies. See [strategies](#strategies)Â for a list of all supported strategies and on how to create your own.\n\nE.g. below demonstrates how the Stormpath configuration can be created and loaded from only the environment.\n\n```\nvar strategy = stormpathConfig.strategy;\n\nvar configLoader = new StormpathConfig.Loader([\n    new strategy.LoadEnvConfigStrategy(),\n    new strategy.LoadFileConfigStrategy('~/stormpath.yml')\n]);\n```\n\nNow, once you got your new `Loader` object all you need to do is call the `configLoader.load(callback)` method to load the configuration data.\nYou can do this like so:\n\n```\nconfigLoader.load(function (err, config) {\n  if (err) {\n    console.error(err);\n  } else {\n    console.log(\"Configuration loaded:\", config);\n  }\n});\n```\n\n## Strategies\n\n### Creating your own strategy\n\nA strategy is simply a prototype that implements a method named `process` that takes the parameters `config` and `callback`. All it expects is that the callback is called with the first argument as an error (null if none) and the second containing the modified/processed config. E.g. as shown below:\n\n```\nfunction MyConfigStrategy () {\n}\n\nMyConfigStrategy.prototype.process = function (config, callback) {\n  // Apply strategy to config and return result in callback\n  config.someNewField = \"abc\"; // Append someNewField to our config\n  callback(null, config);\n};\n```\n\n### Supported\n\nSome default strategies for loading a configuration has been included. These are accessible through the `strategy` export. I.e. `require('stormpath-config').strategy`.\n\n#### LoadEnvConfigStrategy\n\nLoads configuration from the system environment.\n\n#### LoadAPIKeyConfigStrategy\n\nLoads client API key configuration from a .properties file.\n\n#### LoadFileConfigStrategy\n\nLoads a configuration from either a JSON or YAML file.\n\n#### ExtendConfigStrategy\n\nExtend a the configuration with an existing object.\n\n#### EnrichClientConfigStrategy\n\nEnriches the configuration with client config resolved at runtime.\n\n#### EnrichClientFromRemoteConfigStrategy\n\nEnriches the configuration with client config resolved from the Stormpath API.\n\n#### EnrichIntegrationConfigStrategy\n\nEnriches the configuration with integration config resolved at runtime.\n\n#### EnrichIntegrationFromRemoteConfigStrategy\n\nEnriches the configuration with integration config resolved from the Stormpath API.\n\n#### ValidateClientConfigStrategy\n\nValidates the client configuration.\n\n## Resources\n\nBelow are some resources you might find useful:\n\n- [express-stormpath Github repository](https://github.com/stormpath/stormpath-express)\n- [express-stormpath documentation](http://docs.stormpath.com/nodejs/express/latest/)\n- [Stormpath website](https://stormpath.com)\n\n## Todo\n\n* Write unit tests.\n\n## Contributing\n\nYou can make your own contributions by forking this repository, making your\nchanges in a feature branch, and then issuing a pull request back to this\nrepository on the `master` branch.\n\nHere's how you might do this if you wanted to contribute something:\n\n```console\n$ git clone https://github.com/stormpath/stormpath-node-config.git\n$ cd stormpath-node-config\n$ git checkout -b feature-somthing-something\n$ # make changes\n$ git commit -m \"This was easy!\"\n$ # submit a pull request\n```\n\nWe regularly maintain this repository, and are quick to review pull requests\nand accept changes!\n\nWe <333 contributions!\n\n## Copyright\n\nCopyright &copy;2015 Stormpath, Inc. and contributors.\n\nThis project is open-source via the [Apache 2.0 License](http://www.apache.org/licenses/LICENSE-2.0).\n",
  "readmeFilename": "README.md",
  "_id": "stormpath-config@0.0.16",
  "dist": {
    "shasum": "dceb4a4c34ca2f06b81785bf1e0ded54278c6849"
  },
  "_from": "stormpath-config@0.0.16",
  "_resolved": "https://registry.npmjs.org/stormpath-config/-/stormpath-config-0.0.16.tgz"
}
